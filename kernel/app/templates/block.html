<!-- 文章页面 -->
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <title>{{ .Title }}</title>
    {{ template "config.html" . }}
    <script async id="emojiScript" src="{{.Render.File.Script.Emoji}}"></script>
    <script async id="iconScript" src="{{.Render.File.Script.Icon}}"></script>
    
    <script async id="beforeScript" type="module" src="{{.Render.File.Script.Before}}"></script>
    
    <script defer id="luteScript" src="{{.Render.File.Script.Lute}}"></script>
    <script defer id="protyleScript" src="{{.Render.File.Script.Protyle}}"></script>
    <!-- 依赖 luteScript -->
    <script defer id="htmlScript" src="{{.Render.File.Script.HTML}}"></script>
    <!-- 依赖 protyleScript -->
    <script defer id="renderScript" type="module" src="{{.Render.File.Script.Render}}"></script>

    <script defer id="afterScript" type="module" src="{{.Render.File.Script.After}}"></script>

    <style id="editorFontSize"></style>
    <link id="baseStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Base}}" />
    {{ if eq .Render.Appearance.Mode 1 }}
    <link id="themeDefaultStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Dark.Default}}" />
    <link id="themeStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Dark.Theme}}" />
    <link id="themeCustomStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Dark.Custom}}" />
    {{ else }}
    <link id="themeDefaultStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Light.Default}}" />
    <link id="themeStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Light.Theme}}" />
    <link id="themeCustomStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Light.Custom}}" />
    {{ end }}
    <link id="publishStyle" rel="stylesheet" type="text/css" href="{{.Render.File.Style.Publish}}" />

</head>

<body class="fn__flex-column">
    <div id="editor">
        {{ template "breadcrumb.html" . }}
        <div class="protyle-content"{{ if .Render.Editor.FullWidth }}data-fullwidth="true"{{ end }}>
            {{ template "background.html" . }}
            {{ template "title.html" . }}
            <article id="preview" class="protyle-wysiwyg protyle-wysiwyg--attr" spellcheck="false" contenteditable="false">
                {{ html .Content }}
            </article>
        </div>
    </div>

</body>

</html>
